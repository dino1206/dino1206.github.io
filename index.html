<!DOCTYPE html>
<html lang="en-US" dir="ltr">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="https://c.s-microsoft.com/favicon.ico?v2" />
    <link rel="manifest" href="/manifest.json">
    <title>Temperature converter</title>
    <link rel="stylesheet" href="converter.css">
</head>

<body>
    v6
    <form id="converter">
        <label for="input-temp">temperature</label>
        <input type="text" id="input-temp" name="input-temp" value="20" />
        <label for="input-unit">from</label>
        <select id="input-unit" name="input-unit">
            <option value="c" selected>Celsius</option>
            <option value="f">Fahrenheit</option>
            <option value="k">Kelvin</option>
        </select>
        <label for="output-unit">to</label>
        <select id="output-unit" name="output-unit">
            <option value="c">Celsius</option>
            <option value="f" selected>Fahrenheit</option>
            <option value="k">Kelvin</option>
        </select>
        <output name="output-temp" id="output-temp" for="input-temp input-unit output-unit">68 F</output>
    </form>
    <script src="converter.js"></script>

    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js')
                .then(reg => {

                    if ('Notification' in window) {

                        Notification.requestPermission(function (status) {
                            console.log('Notification permission status:', status);
                            displayNotification();
                        });
                    }

                    console.log('[Service Worker] register end');
                }).catch(error => {

                });
        }

        function displayNotification() {
            if (Notification.permission == 'granted') {
                navigator.serviceWorker.getRegistration().then(reg => {
                    var options = {
                        icon: './assets/images/android_048.png',
                        body: '歡迎加入 Angular 社群',
                        image: 'https://augt-forum-upload.s3-ap-southeast-1.amazonaws.com/original/1X/6b3cd55281b7bedea101dc36a6ef24034806390b.png',
                        data: {
                            link: 'https://forum.angular.tw/'
                        }
                    };

                });
            }
        }



    </script>

    <div id="ip-address">正在获取IP地址...</div>
    <script>
        // 1. 发送请求到IPify API获取用户IP地址
        fetch('https://api.ipify.org?format=json')
            .then(response => {
                // 2. 将响应转换为JSON格式
                return response.json();
            })
            .then(data => {
                // 3. 获取JSON数据中的IP地址
                const ipAddress = data.ip;

                // 4. 在页面上显示IP地址
                const ipDisplayElement = document.getElementById('ip-address');
                ipDisplayElement.textContent = `您的IP地址是：${ipAddress}`;
            })
            .catch(error => {
                // 5. 处理错误情况
                console.error('获取IP地址时发生错误：', error);
                const ipDisplayElement = document.getElementById('ip-address');
                ipDisplayElement.textContent = '无法获取您的IP地址';
            });
    </script>

</body>



</html>




</body>